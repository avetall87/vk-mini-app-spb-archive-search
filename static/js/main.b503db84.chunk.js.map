{"version":3,"sources":["img/medal_32_32.png","img/narodnoe-priznanie-logotip_150.png","panels/home/Home.js","panels/widget/Widget.js","App.js","index.js"],"names":["module","exports","Home","id","go","vkGroupId","isCommunityAdmin","useState","getHumanName","setHumanName","useEffect","a","bridge","send","user","lastName","last_name","undefined","length","fetchUserData","openSearchWindow","searchToken","window","open","search","_handleKeyDown","e","key","onLabelChange","event","target","value","isMobileDevice","document","body","clientWidth","right","onClick","data-to","title","before","mode","size","src","logo","class","className","align","placeHolder","placeholder","type","onChange","onKeyDown","getSearchField","Widget","communityToken","widgetError","setWidgetError","unsupportedPlatform","setUnsupportedPlatform","setTitle","text","setText","descr","setDescr","more","setMore","moreUrl","setMoreUrl","left","top","maxLength","status","bottom","disabled","style","display","justifyContent","groupId","Number","then","r","console","log","result","catch","error_data","error_code","layout","onClose","backgroundColor","fill","width","height","duration","App","setVkGroupId","setCommunityAdmin","activePanel","setActivePanel","fetchedUser","setUser","popout","setPopout","location","href","split","splitData","filter","includes","map","fetchData","subscribe","detail","data","schemeAttribute","createAttribute","scheme","attributes","setNamedItem","fetchLunchParameters","currentTarget","dataset","to","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.b503db84.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAGLH901AAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAALiMAAC4jAXilP3YAAAXwaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwMiA3OS4xNjQ0NjAsIDIwMjAvMDUvMTItMTY6MDQ6MTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMTEtMDFUMjI6NTA6MDcrMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMTEtMDFUMjI6NTA6MDcrMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTExLTAxVDIyOjUwOjA3KzAzOjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhkYjRmMDg2LTZmMWEtMjQ0NC04ODBlLTY2ZDc3ZjVlNDkxMiIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjc1NjA3ZjdhLWMzNTgtMjc0ZC05MjBkLWQ1YzU1MmYzNGRjMCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjg2MDNhZTRiLWYxOTAtNmM0MS1iNTQyLWI1ZmZjYTA1MDhjYiIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJBZG9iZSBSR0IgKDE5OTgpIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo4NjAzYWU0Yi1mMTkwLTZjNDEtYjU0Mi1iNWZmY2EwNTA4Y2IiIHN0RXZ0OndoZW49IjIwMjAtMTEtMDFUMjI6NTA6MDcrMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OGRiNGYwODYtNmYxYS0yNDQ0LTg4MGUtNjZkNzdmNWU0OTEyIiBzdEV2dDp3aGVuPSIyMDIwLTExLTAxVDIyOjUwOjA3KzAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoV2luZG93cykiIHN0RXZ0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\"","module.exports = __webpack_public_path__ + \"static/media/narodnoe-priznanie-logotip_150.35abf5ce.png\";","import React, {useEffect, useState} from 'react';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport PanelHeaderContent from '@vkontakte/vkui/dist/components/PanelHeaderContent/PanelHeaderContent';\nimport Search from '@vkontakte/vkui/dist/components/Search/Search';\n\nimport './Home.css';\n\nimport logo from '../../img/medal_32_32.png';\nimport priznanie from '../../img/narodnoe-priznanie-logotip_150.png';\nimport Icon28SettingsOutline from \"@vkontakte/icons/dist/28/settings_outline\";\nimport bridge from \"@vkontakte/vk-bridge\";\n\n\nconst Home = ({id, go, vkGroupId, isCommunityAdmin}) => {\n\n    const MAX_MOBILE_SCREEN_WIDTH = 576;\n\n    const [getHumanName, setHumanName] = useState('');\n\n    useEffect(() => {\n        async function fetchUserData() {\n            const user = await bridge.send('VKWebAppGetUserInfo');\n\n            let lastName = '';\n\n            if (user.last_name !== null\n                && user.last_name !== undefined\n                && user.last_name.length > 0) {\n\n                lastName=user.last_name;\n            }\n            setHumanName(lastName);\n        }\n\n        fetchUserData();\n    }, []);\n\n    const openSearchWindow = (searchToken) => {\n        window.open(`https://medal.spbarchives.ru/search?query=${searchToken}&advancedSearch=false&from=vk`);\n    }\n\n    const search = async () => {\n        openSearchWindow(getHumanName);\n    }\n\n    const _handleKeyDown = (e) => {\n        if (e.key === 'Enter') {\n            openSearchWindow(getHumanName);\n        }\n    }\n\n    const onLabelChange = (event) => {\n        setHumanName(event.target.value);\n    };\n\n    const isMobileDevice = () => {\n        return document.body.clientWidth <= MAX_MOBILE_SCREEN_WIDTH;\n    }\n\n    const getApplicationLabel = () => {\n        if (isMobileDevice()) {\n            return <h4 align=\"left\" className=\"SearchLabel\">Поиск награжденных медалью</h4>;\n        } else {\n            return <h3 align=\"left\" className=\"SearchLabel\">Поиск награжденных медалью</h3>;\n        }\n    }\n\n    const getSearchField = () => {\n        let placeHolder = \"ФИО, год рождения\";\n\n        if (!isMobileDevice()) {\n            placeHolder += \", место работы\";\n        }\n\n        return <Search\n            placeholder={placeHolder}\n            id=\"medalSearchId\"\n            type=\"text\"\n            value={getHumanName}\n            onChange={onLabelChange}\n            onKeyDown={_handleKeyDown}/>;\n    }\n\n    const showWidgetConfiguration = () => {\n        return vkGroupId && isCommunityAdmin;\n    }\n\n    return (<Panel id={id}>\n            <PanelHeader right={showWidgetConfiguration() && <Button\n                                                                    onClick={go} data-to=\"widget\"\n                                                                    title=\"Настройки виджета\"\n                                                                    before={<Icon28SettingsOutline/>}\n                                                                    mode=\"tertiary\">\n                                                                    Настройки виджета\n                                                             </Button>}>\n\n                <PanelHeaderContent before={<Avatar size={36} src={logo}/>}>\n                    <span class=\"PageHeaderContent\"> Медаль «За оборону Ленинграда»</span>\n                </PanelHeaderContent>\n            </PanelHeader>\n            <Group>\n                <Div className=\"MainContainer\">\n                    {getApplicationLabel()}\n                    {getSearchField()}\n                    <Div>\n                        <Button size=\"l\" className=\"SearchButton\"\n                                title=\"Искать на сайте: Медаль «За оборону Ленинграда»\" onClick={search}>\n                            Искать\n                        </Button>\n                    </Div>\n                    <Div className=\"Description\">\n                        В базу внесены данные на <b>167&nbsp;939</b> персоналий. Работа продолжается\n                    </Div>\n                </Div>\n            </Group>\n        </Panel>\n    )\n};\n\nexport default Home;\n","import React, {useState} from 'react';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport PanelHeaderContent from '@vkontakte/vkui/dist/components/PanelHeaderContent/PanelHeaderContent';\nimport bridge from '@vkontakte/vk-bridge';\n\nimport './Widget.css';\nimport PanelHeaderBack from \"@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack\";\nimport Button from \"@vkontakte/vkui/dist/components/Button/Button\";\nimport Input from \"@vkontakte/vkui/dist/components/Input/Input\";\nimport FormLayout from \"@vkontakte/vkui/dist/components/FormLayout/FormLayout\";\nimport Textarea from \"@vkontakte/vkui/dist/components/Textarea/Textarea\";\nimport Div from \"@vkontakte/vkui/dist/components/Div/Div\";\nimport {Icon16ErrorCircleFill, Icon16InfoCirle, Icon24ListAdd} from \"@vkontakte/icons\";\nimport Snackbar from \"@vkontakte/vkui/dist/components/Snackbar/Snackbar\";\nimport Avatar from \"@vkontakte/vkui/dist/components/Avatar/Avatar\";\n\nconst Widget = ({id, go, vkGroupId, communityToken}) => {\n\n    const APP_LINK = \"https://vk.com/app7643740\";\n\n    const [widgetError, setWidgetError] = useState(false);\n    const [unsupportedPlatform, setUnsupportedPlatform] = useState(false);\n\n    const [title, setTitle] = useState('Медаль «За оборону Ленинграда»');\n    const [text, setText] = useState('Архивные документы о награжденных медалью');\n    const [descr, setDescr] = useState('В базу внесены данные на 167 939 персоналий. Работа продолжается');\n    const [more, setMore] = useState('найди своих однофамильцев в архивных документах');\n    const [moreUrl, setMoreUrl] = useState(APP_LINK);\n\n    const onTitleChange = (event) => {\n        setTitle(event.target.value);\n    };\n\n    const onTextChange = (event) => {\n        setText(event.target.value);\n    };\n\n    const onDescrChange = (event) => {\n        setDescr(event.target.value);\n    };\n\n    const onMoreChange = (event) => {\n        setMore(event.target.value);\n    };\n\n    const onMoreUrlChange = (event) => {\n        setMoreUrl(event.target.value);\n    };\n\n    const onAddImage = () => {\n\n    }\n\n    const onDeleteImage = () => {\n\n    }\n\n    const addWidget = () => {\n        try {\n            let groupId = Number(vkGroupId);\n\n            bridge.send(\"VKWebAppShowCommunityWidgetPreviewBox\",\n                {\"group_id\": groupId, \"type\": \"text\", \"code\": `var first_name = API.users.get({})@.first_name;\n                                                                      if (first_name) { \n                                                                        first_name = first_name + \", \";\n                                                                      } else {\n                                                                        first_name = \"Авторизуйся и \";\n                                                                      }\n                                                                      return { title: '${title}', title_url: '${moreUrl}', text: '${text}', descr: '${descr}', more: first_name + '${more}', more_url: '${moreUrl}' };`})\n                .then(r => console.log(r.result))\n                .catch(e => {\n                    if (e.error_data.error_code === 6) {\n                        setUnsupportedPlatform(true);\n                        return;\n                    }\n\n                    if (e.error_data.error_code !== 4) {\n                        setWidgetError(true);\n                        console.log(e);\n                    }\n                });\n\n        } catch (e) {\n            if (e.error_data.error_code === 6) {\n                setUnsupportedPlatform(true);\n                return;\n            }\n\n            if (e.error_data.error_code !== 4) {\n                setWidgetError(true);\n                console.log(e);\n            }\n        }\n    }\n\n    return (<Panel id={id}>\n            <PanelHeader left={<PanelHeaderBack onClick={go} data-to=\"home\"/>}>\n                <PanelHeaderContent>\n                    <span class=\"PageHeaderContent\">Настройки виджета</span>\n                </PanelHeaderContent>\n            </PanelHeader>\n\n            <FormLayout>\n                <Input id=\"titleId\"\n                       top=\"заголовок виджета, до 100 символов\"\n                       maxLength=\"100\"\n                       value={title}\n                       status={title ? 'valid' : 'error'}\n                       bottom={title ? '' : 'Пожалуйста, укажите что-то в заголовке виджета'}\n                       onChange={onTitleChange}/>\n\n                <Textarea id=\"textId\"\n                          top=\"Текст для отображения в виджете, до 200 символов\"\n                          maxLength=\"200\"\n                          value={text}\n                          status={text ? 'valid' : 'error'}\n                          bottom={text ? '' : 'Пожалуйста, заполните текст в виджите'}\n                          onChange={onTextChange}/>\n\n                <Textarea id=\"descrId\"\n                          top=\"Описание для отображения в виджете, до 200 символов\"\n                          maxLength=\"200\"\n                          value={descr}\n                          status={descr ? 'valid' : 'error'}\n                          bottom={descr ? '' : 'Пожалуйста, заполните описание'}\n                          onChange={onDescrChange}/>\n\n                <Input id=\"moreId\"\n                       top=\"Текст в футере, до 100 символов\"\n                       maxLength=\"100\"\n                       value={more}\n                       status={more ? 'valid' : 'error'}\n                       bottom={more ? '' : 'Пожалуйста, укажите наименование ссылки'}\n                       onChange={onMoreChange}/>\n\n                <Input id=\"moreUrlId\"\n                       maxLength=\"10000\"\n                       top=\"URL для футера. Обязателен, если указан текст в футере\"\n                       value={moreUrl}\n                       status={moreUrl ? 'valid' : 'error'}\n                       bottom={moreUrl ? '' : 'Ссылка на приложение должно быть обязательна'}\n                       onChange={onMoreUrlChange}\n                       disabled/>\n\n                {/*<FormLayoutGroup top=\"Выбирите размер изображение\" bottom=\"Необходимо загружать изображения в утроенном размере (например, для картинки с конечным размером 160x160 нужно загружать изображение размером 480x480).\">*/}\n                {/*    <Select>*/}\n                {/*        <option>510x128</option>*/}\n                {/*    </Select>*/}\n                {/*    <Div>*/}\n                {/*        <Button mode=\"primary\" title=\"Добавить изображение\" onClick={onAddImage} before={<Icon24Camera/>}>Добавить изображение</Button>*/}\n                {/*    </Div>*/}\n                {/*</FormLayoutGroup>*/}\n\n                <Div style={{display: \"flex\", justifyContent: \"space-between\"}}>\n                    {/*<Button mode=\"secondary\" before={<Icon24Delete/>} size=\"l\">Удалить виджет</Button>*/}\n                    <Button mode=\"primary\" size=\"l\" className=\"SearchButton\" title=\"Опубликовать виджет\" onClick={addWidget} before={<Icon24ListAdd/>}>Опубликовать виджет</Button>\n                </Div>\n            </FormLayout>\n\n            {widgetError &&\n            <Snackbar\n                layout='vertical'\n                onClose={() => setWidgetError(null)}\n                before={<Avatar size={16} style={{backgroundColor: 'var(--accent)'}}><Icon16ErrorCircleFill fill='#fff' width={16} height={16}/></Avatar>}\n                duration={10000}>\n                Произошла ошибка при добавлении виджета !\n            </Snackbar>\n            }\n\n            {unsupportedPlatform &&\n            <Snackbar\n                layout='vertical'\n                onClose={() => setWidgetError(null)}\n                before={<Avatar size={16} style={{backgroundColor: 'var(--accent)'}}><Icon16InfoCirle fill='#fff' width={16} height={16}/></Avatar>}\n                duration={10000}>\n                Данная платформа не поддерживается\n            </Snackbar>\n            }\n\n        </Panel>\n    )\n};\n\nexport default Widget;\n","import React, {useEffect, useState} from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/home/Home';\nimport Widget from \"./panels/widget/Widget\";\n\nconst App = () => {\n\n    const [vkGroupId, setVkGroupId] = useState(-1);\n    const [isCommunityAdmin, setCommunityAdmin] = useState(false);\n    const [activePanel, setActivePanel] = useState('home');\n    const [communityToken, setCommunityToken] = useState('');\n    const [fetchedUser, setUser] = useState(null);\n    const [popout, setPopout] = useState(<ScreenSpinner size='large'/>);\n\n\n\n    useEffect(() => {\n        bridge.subscribe(({detail: {type, data}}) => {\n            if (type === 'VKWebAppUpdateConfig') {\n                const schemeAttribute = document.createAttribute('scheme');\n                schemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n                document.body.attributes.setNamedItem(schemeAttribute);\n            }\n        });\n\n        async function fetchLunchParameters() {\n\n            const splitData = await window.location.href.split('&');\n\n            if (splitData && splitData.filter(value=> value.includes(\"vk_viewer_group_role\")).map(value => value.split('=')[1])[0] === 'admin') {\n                setCommunityAdmin(true);\n            }\n\n            const fetchData = await splitData.filter(value => value.includes(\"vk_group_id\")).map(value => value.split('=')[1]);\n            setVkGroupId(fetchData[0]);\n        }\n\n        async function fetchData() {\n            const user = await bridge.send('VKWebAppGetUserInfo');\n            setUser(user);\n            setPopout(null);\n        }\n\n        fetchData();\n        fetchLunchParameters();\n    }, []);\n\n    const go = e => {\n        setActivePanel(e.currentTarget.dataset.to);\n    };\n\n    return (\n        <View activePanel={activePanel} popout={popout}>\n            <Home id='home' fetchedUser={fetchedUser} go={go} vkGroupId={vkGroupId} isCommunityAdmin={isCommunityAdmin}/>\n            <Widget id='widget' go={go} vkGroupId={vkGroupId} communityToken={communityToken}/>\n        </View>\n    );\n}\n\nexport default App;\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}